<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ü–æ—Å—ñ–≤–Ω–∏–π –ö–∞–ª–µ–Ω–¥–∞—Ä 2026</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Crimson+Pro:wght@300;400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --earth: #F5EFE4;
    --bark: #4A2C17;
    --moss: #4A6741;
    --sage: #5a8055;
    --wheat: #9a6e2a;
    --cream: #2C1810;
    --parchment: #EDE0C4;
    --sky: #87AABF;
    --sun: #c8860a;
    --leaf: #5E8B5A;
    --sprout: #3a7a36;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background-color: var(--earth);
    color: var(--cream);
    font-family: 'Crimson Pro', Georgia, serif;
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* Texture overlay */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='400' height='400' filter='url(%23noise)' opacity='0.04'/%3E%3C/svg%3E");
    pointer-events: none;
    z-index: 1000;
    opacity: 0.4;
  }

  header {
    text-align: center;
    padding: 60px 20px 40px;
    position: relative;
    border-bottom: 1px solid rgba(154,110,42,0.25);
    overflow: hidden;
  }

  header::before {
    content: '';
    position: absolute;
    top: -50%;
    left: 50%;
    transform: translateX(-50%);
    width: 600px;
    height: 600px;
    background: radial-gradient(ellipse, rgba(154,110,42,0.08) 0%, transparent 70%);
    pointer-events: none;
  }

  .header-label {
    font-family: 'Crimson Pro', serif;
    font-weight: 300;
    letter-spacing: 0.4em;
    font-size: 0.75rem;
    color: var(--wheat);
    text-transform: uppercase;
    margin-bottom: 16px;
    animation: fadeUp 0.8s ease both;
  }

  h1 {
    font-family: 'Playfair Display', serif;
    font-size: clamp(2.8rem, 8vw, 5.5rem);
    font-weight: 700;
    line-height: 1.05;
    color: var(--cream);
    animation: fadeUp 0.8s 0.1s ease both;
  }

  h1 em {
    font-style: italic;
    color: var(--wheat);
  }

  .header-year {
    font-size: 1rem;
    letter-spacing: 0.3em;
    color: var(--sage);
    margin-top: 12px;
    animation: fadeUp 0.8s 0.2s ease both;
  }

  .moon-phases {
    display: flex;
    justify-content: center;
    gap: 24px;
    margin-top: 32px;
    animation: fadeUp 0.8s 0.3s ease both;
  }

  .moon-phase {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
    font-size: 0.7rem;
    letter-spacing: 0.1em;
    color: rgba(44,24,16,0.45);
    text-transform: uppercase;
  }

  .moon-phase span:first-child {
    font-size: 1.6rem;
    filter: drop-shadow(0 0 6px rgba(154,110,42,0.3));
  }

  .legend-bar {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 20px;
    padding: 20px;
    border-bottom: 1px solid rgba(154,110,42,0.15);
    animation: fadeUp 0.8s 0.4s ease both;
  }

  .legend-item {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 0.85rem;
    color: rgba(44,24,16,0.65);
  }

  .legend-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    flex-shrink: 0;
  }

  .dot-best { background: #3a7a36; box-shadow: 0 0 8px rgba(58,122,54,0.5); }
  .dot-good { background: #5a8055; }
  .dot-avoid { background: #a03030; }
  .dot-neutral { background: rgba(44,24,16,0.12); border: 1px solid rgba(44,24,16,0.2); }

  /* Month selector */
  .month-nav {
    display: flex;
    justify-content: center;
    gap: 6px;
    padding: 24px 20px 16px;
    flex-wrap: wrap;
  }

  .month-btn {
    background: none;
    border: 1px solid rgba(154,110,42,0.25);
    color: rgba(44,24,16,0.5);
    padding: 7px 14px;
    border-radius: 2px;
    cursor: pointer;
    font-family: 'Crimson Pro', serif;
    font-size: 0.9rem;
    letter-spacing: 0.05em;
    transition: all 0.25s ease;
  }

  .month-btn:hover {
    border-color: var(--wheat);
    color: var(--wheat);
    background: rgba(154,110,42,0.06);
  }

  .month-btn.active {
    background: var(--wheat);
    border-color: var(--wheat);
    color: #fff;
    font-weight: 500;
  }

  /* Calendar grid */
  .calendar-container {
    max-width: 1100px;
    margin: 0 auto;
    padding: 20px 24px 60px;
  }

  .month-header {
    text-align: center;
    margin-bottom: 32px;
  }

  .month-title {
    font-family: 'Playfair Display', serif;
    font-size: 2.2rem;
    font-style: italic;
    color: var(--wheat);
    margin-bottom: 4px;
  }

  .month-subtitle {
    font-size: 0.85rem;
    letter-spacing: 0.2em;
    color: var(--sage);
    text-transform: uppercase;
  }

  .weekdays {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 4px;
    margin-bottom: 4px;
  }

  .weekday-label {
    text-align: center;
    font-size: 0.72rem;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    color: rgba(44,24,16,0.4);
    padding: 8px;
  }

  .days-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 4px;
  }

  .day-cell {
    aspect-ratio: 1;
    border-radius: 3px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    position: relative;
    transition: transform 0.15s ease, box-shadow 0.15s ease;
    border: 1px solid transparent;
    background: rgba(0,0,0,0.04);
    min-height: 60px;
  }

  .day-cell:hover:not(.empty) {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.12);
    z-index: 10;
    border-color: rgba(154,110,42,0.35);
  }

  .day-cell.empty { cursor: default; background: transparent; }

  .day-cell.best {
    background: rgba(58,122,54,0.18);
    border-color: rgba(58,122,54,0.4);
  }
  .day-cell.best::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 3px;
    background: radial-gradient(ellipse at 50% 0%, rgba(58,122,54,0.12), transparent 70%);
  }

  .day-cell.good {
    background: rgba(58,122,54,0.07);
    border-color: rgba(58,122,54,0.2);
  }

  .day-cell.good .day-num { color: var(--sage); }
  .day-cell.good .day-label { color: var(--sage); }

  .day-cell.avoid {
    background: rgba(160,48,48,0.1);
    border-color: rgba(160,48,48,0.22);
  }

  .day-cell.today {
    box-shadow: inset 0 0 0 2px var(--sun);
  }

  .day-num {
    font-family: 'Playfair Display', serif;
    font-size: 1.1rem;
    font-weight: 700;
    color: rgba(44,24,16,0.75);
    position: relative;
    z-index: 1;
  }

  .day-cell.avoid .day-num { color: rgba(160,48,48,0.5); }
  .day-cell.best .day-num { color: #2d6b29; }

  .day-moon {
    font-size: 0.75rem;
    position: relative;
    z-index: 1;
    margin-top: 2px;
  }

  .day-zodiac {
    font-size: 0.72rem;
    position: relative;
    z-index: 1;
    line-height: 1;
    opacity: 0.85;
    margin-top: 1px;
  }

  .day-label {
    font-size: 0.6rem;
    letter-spacing: 0.05em;
    text-transform: uppercase;
    position: relative;
    z-index: 1;
    margin-top: 2px;
    color: rgba(44,24,16,0.3);
  }

  .day-cell.best .day-label { color: #2d6b29; }
  .day-cell.good .day-label { color: var(--sage); }
  .day-cell.avoid .day-label { color: rgba(160,48,48,0.55); }

  /* Crop recommendations */
  .crops-section {
    margin-top: 48px;
    padding-top: 40px;
    border-top: 1px solid rgba(154,110,42,0.15);
  }

  .section-title {
    font-family: 'Playfair Display', serif;
    font-size: 1.6rem;
    font-style: italic;
    color: var(--wheat);
    margin-bottom: 24px;
    text-align: center;
  }

  .crops-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
    gap: 16px;
  }

  .crop-card {
    background: rgba(0,0,0,0.03);
    border: 1px solid rgba(154,110,42,0.18);
    border-radius: 4px;
    padding: 20px;
    transition: all 0.25s ease;
  }

  .crop-card:hover {
    background: rgba(154,110,42,0.06);
    border-color: rgba(154,110,42,0.35);
    transform: translateY(-2px);
  }

  .crop-icon { font-size: 2rem; margin-bottom: 10px; }

  .crop-name {
    font-family: 'Playfair Display', serif;
    font-size: 1.1rem;
    color: var(--cream);
    margin-bottom: 6px;
  }

  .crop-period {
    font-size: 0.85rem;
    color: var(--sage);
    margin-bottom: 10px;
    letter-spacing: 0.05em;
  }

  .crop-tip {
    font-size: 0.82rem;
    color: rgba(44,24,16,0.5);
    line-height: 1.5;
  }

  /* Tooltip */
  .tooltip {
    position: fixed;
    background: var(--bark);
    border: 1px solid var(--wheat);
    border-radius: 4px;
    padding: 14px 18px;
    font-size: 0.85rem;
    color: var(--cream);
    pointer-events: none;
    z-index: 9999;
    max-width: 260px;
    display: none;
    box-shadow: 0 12px 40px rgba(0,0,0,0.6);
  }

  .tooltip-title {
    font-family: 'Playfair Display', serif;
    color: var(--wheat);
    font-size: 0.95rem;
    margin-bottom: 4px;
  }

  .tooltip-info {
    color: rgba(244,237,217,0.65);
    font-size: 0.8rem;
    line-height: 1.4;
  }

  /* Footer */
  footer {
    text-align: center;
    padding: 30px;
    font-size: 0.78rem;
    color: rgba(44,24,16,0.25);
    letter-spacing: 0.1em;
    border-top: 1px solid rgba(154,110,42,0.15);
  }

  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .calendar-container { animation: fadeUp 0.6s 0.5s ease both; }

  @media (max-width: 600px) {
    .day-cell { min-height: 45px; }
    .day-num { font-size: 0.9rem; }
    .day-moon { font-size: 0.6rem; }
    .day-label { display: none; }
    .crops-grid { grid-template-columns: 1fr; }
  }
</style>
</head>
<body>

<header>
  <div class="header-label">üåø –°–∞–¥—ñ–≤–Ω–∏–∫–∞ –¥–æ–≤—ñ–¥–Ω–∏–∫</div>
  <h1>–ü–æ—Å—ñ–≤–Ω–∏–π<br><em>–ö–∞–ª–µ–Ω–¥–∞—Ä</em></h1>
  <div class="header-year">¬∑ 2026 ¬∑</div>
  <div class="moon-phases">
    <div class="moon-phase"><span>üåë</span>–Ω–æ–≤–∏–π –º—ñ—Å—è—Ü—å</div>
    <div class="moon-phase"><span>üåì</span>–ø–µ—Ä—à–∞ —á–≤–µ—Ä—Ç—å</div>
    <div class="moon-phase"><span>üåï</span>–ø–æ–≤–Ω–∏–π –º—ñ—Å—è—Ü—å</div>
    <div class="moon-phase"><span>üåó</span>–æ—Å—Ç–∞–Ω–Ω—è —á–≤–µ—Ä—Ç—å</div>
  </div>
</header>

<div class="legend-bar">
  <div class="legend-item"><div class="legend-dot dot-best"></div>–ù–∞–π–∫—Ä–∞—â—ñ –¥–Ω—ñ –¥–ª—è –ø–æ—Å—ñ–≤—É</div>
  <div class="legend-item"><div class="legend-dot dot-good"></div>–°–ø—Ä–∏—è—Ç–ª–∏–≤—ñ –¥–Ω—ñ</div>
  <div class="legend-item"><div class="legend-dot dot-avoid"></div>–ù–µ–±–∞–∂–∞–Ω—ñ –¥–Ω—ñ</div>
  <div class="legend-item"><div class="legend-dot dot-neutral"></div>–ù–µ–π—Ç—Ä–∞–ª—å–Ω—ñ –¥–Ω—ñ</div>
</div>
<div class="legend-bar" style="padding-top:10px; padding-bottom:14px; gap:16px;">
  <div class="legend-item" style="font-size:0.78rem; color:rgba(44,24,16,0.35); letter-spacing:0.1em; text-transform:uppercase; width:100%; justify-content:center; margin-bottom:4px;">–ó–Ω–∞–∫–∏ –∑–æ–¥—ñ–∞–∫—É –º—ñ—Å—è—Ü—è</div>
  <div class="legend-item"><span style="color:#c0603a; font-size:1rem;">üî•</span>&nbsp;–í–æ–≥–æ–Ω—å ‚Äî –ø–ª–æ–¥–∏</div>
  <div class="legend-item"><span style="color:#8a7a4a; font-size:1rem;">üåç</span>&nbsp;–ó–µ–º–ª—è ‚Äî –∫–æ—Ä–µ–Ω–µ–ø–ª–æ–¥–∏</div>
  <div class="legend-item"><span style="color:#6a9ab0; font-size:1rem;">üí®</span>&nbsp;–ü–æ–≤—ñ—Ç—Ä—è ‚Äî –∫–≤—ñ—Ç–∏</div>
  <div class="legend-item"><span style="color:#4a7a8a; font-size:1rem;">üíß</span>&nbsp;–í–æ–¥–∞ ‚Äî –ª–∏—Å—Ç—è</div>
</div>

<div style="text-align:center; padding: 8px 20px 0; font-size:0.8rem; color:rgba(44,24,16,0.3); letter-spacing:0.1em;">–ù–ê–í–ï–î–Ü–¢–¨ –ù–ê –î–ï–ù–¨ –î–õ–Ø –î–ï–¢–ê–õ–ï–ô</div>

<div class="month-nav" id="monthNav"></div>

<div class="calendar-container">
  <div class="month-header">
    <div class="month-title" id="monthTitle">–õ—é—Ç–∏–π</div>
    <div class="month-subtitle" id="monthSubtitle">–ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ –≤–µ—Å–Ω–∏ ¬∑ –†–æ–∑—Å–∞–¥–∞</div>
  </div>
  <div class="weekdays">
    <div class="weekday-label">–ü–Ω</div>
    <div class="weekday-label">–í—Ç</div>
    <div class="weekday-label">–°—Ä</div>
    <div class="weekday-label">–ß—Ç</div>
    <div class="weekday-label">–ü—Ç</div>
    <div class="weekday-label">–°–±</div>
    <div class="weekday-label">–ù–¥</div>
  </div>
  <div class="days-grid" id="daysGrid"></div>

  <div class="crops-section">
    <div class="section-title" id="cropsTitle">–©–æ —Å–∞–¥–∏—Ç–∏ —É –ª—é—Ç–æ–º—É</div>
    <div class="crops-grid" id="cropsGrid"></div>
  </div>
</div>

<div class="tooltip" id="tooltip">
  <div class="tooltip-title" id="ttTitle"></div>
  <div class="tooltip-info" id="ttMoon"></div>
  <div class="tooltip-info" id="ttZodiac" style="margin-top:6px; font-size:0.85rem;"></div>
  <div class="tooltip-info" id="ttZodiacTip" style="margin-top:4px; font-style:italic; color:rgba(244,237,217,0.5); font-size:0.78rem; line-height:1.4;"></div>
  <div class="tooltip-info" id="ttInfo" style="margin-top:8px; padding-top:8px; border-top:1px solid rgba(200,169,110,0.2);"></div>
</div>

<footer>–ü–æ—Å—ñ–≤–Ω–∏–π –ö–∞–ª–µ–Ω–¥–∞—Ä ¬∑ –°–∫–ª–∞–¥–µ–Ω–æ –∑–∞ —Ñ–∞–∑–∞–º–∏ –º—ñ—Å—è—Ü—è ¬∑ 2026</footer>

<script>
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
//  –ê–õ–ì–û–†–ò–¢–ú –§–ê–ó–ò –ú–Ü–°–Ø–¶–Ø (–º–µ—Ç–æ–¥ –ö–æ–Ω–≤–µ—è / –∞—Å—Ç—Ä–æ–Ω–æ–º—ñ—á–Ω–∞ —Ñ–æ—Ä–º—É–ª–∞)
//  –ü–æ–≤–µ—Ä—Ç–∞—î —á–∏—Å–ª–æ 0‚Äì29.53 ‚Äî –≤—ñ–∫ –º—ñ—Å—è—Ü—è –≤ –¥–æ–±–∞—Ö –≤—ñ–¥ –Ω–æ–≤–æ–º—ñ—Å—è—á—á—è
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function getMoonAge(date) {
  // –í—ñ–¥–æ–º–∞ –¥–∞—Ç–∞ –Ω–æ–≤–æ–º—ñ—Å—è—á—á—è: 6 —Å—ñ—á–Ω—è 2000 18:14 UTC (Julian Day 2451549.5 + 0.759722)
  const KNOWN_NEW_MOON = new Date(Date.UTC(2000, 0, 6, 18, 14, 0));
  const SYNODIC_MONTH = 29.530588853; // —Å–µ—Ä–µ–¥–Ω—ñ–π —Å–∏–Ω–æ–¥–∏—á–Ω–∏–π –º—ñ—Å—è—Ü—å —É –¥–æ–±–∞—Ö
  const msPerDay = 1000 * 60 * 60 * 24;
  const daysSince = (date - KNOWN_NEW_MOON) / msPerDay;
  const age = ((daysSince % SYNODIC_MONTH) + SYNODIC_MONTH) % SYNODIC_MONTH;
  return age;
}

// –ü–æ–≤–µ—Ä—Ç–∞—î —ñ–Ω–¥–µ–∫—Å —Ñ–∞–∑–∏ 0‚Äì7 (8 —Ä—ñ–≤–Ω–∏—Ö —Å–µ–∫—Ü—ñ–π –ø–æ ~3.69 –¥–Ω—ñ)
function getMoonPhaseIndex(date) {
  const age = getMoonAge(date);
  return Math.floor(age / (29.530588853 / 8)) % 8;
}

// –ü–æ–≤–µ—Ä—Ç–∞—î –µ–º–æ–¥–∑—ñ –º—ñ—Å—è—Ü—è –¥–ª—è –¥–∞—Ç–∏
function getMoonEmoji(date) {
  const emojis = ['üåë','üåí','üåì','üåî','üåï','üåñ','üåó','üåò'];
  return emojis[getMoonPhaseIndex(date)];
}

// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
//  –ó–ù–ê–ö –ó–û–î–Ü–ê–ö–£ –ú–Ü–°–Ø–¶–Ø (–º—ñ—Å—è—Ü—å –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —É—Å—ñ 12 –∑–Ω–∞–∫—ñ–≤ –∑–∞ ~27.3 –¥–Ω—ñ)
//  –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Å–∏–¥–µ—Ä–∏—á–Ω–∏–π –º—ñ—Å—è—Ü—å: 27.321661 –¥–æ–±–∏
//  –í—ñ–¥–æ–º–∞ –æ–ø–æ—Ä–Ω–∞ —Ç–æ—á–∫–∞: 1 —Å—ñ—á–Ω—è 2000 00:00 UTC –º—ñ—Å—è—Ü—å –±—É–≤ —É ~81¬∞ –µ–∫–ª—ñ–ø—Ç–∏–∫–∏
//  (—Ç–æ–±—Ç–æ —É –ë–ª–∏–∑–Ω—è—Ç–∞—Ö, ~10¬∞ –ë–ª–∏–∑–Ω—è—Ç)
//  –ú–∏ —Ä–æ–∑—Ä–∞—Ö–æ–≤—É—î–º–æ –≥—Ä–∞–¥—É—Å –º—ñ—Å—è—Ü—è –Ω–∞ –µ–∫–ª—ñ–ø—Ç–∏—Ü—ñ —Ç–∞ –≤–∏–∑–Ω–∞—á–∞—î–º–æ –∑–Ω–∞–∫.
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function getMoonZodiacIndex(date) {
  // –û–ø–æ—Ä–Ω–∞ —Ç–æ—á–∫–∞: Jan 1, 2000 00:00 UTC
  // –î–æ–≤–≥–æ—Ç–∞ –º—ñ—Å—è—Ü—è –Ω–∞ –µ–∫–ª—ñ–ø—Ç–∏—Ü—ñ ~218.316¬∞ (–ö–æ–∑–µ—Ä—ñ–≥ 8¬∞)
  // –°–µ—Ä–µ–¥–Ω—è –∫—É—Ç–æ–≤–∞ —à–≤–∏–¥–∫—ñ—Å—Ç—å: 360 / 27.321661 = 13.176396 ¬∞/–¥–µ–Ω—å
  const EPOCH = new Date(Date.UTC(2000, 0, 1, 0, 0, 0));
  const MOON_EPOCH_LON = 218.316; // –≥—Ä–∞–¥—É—Å –¥–æ–≤–≥–æ—Ç–∏ –º—ñ—Å—è—Ü—è –Ω–∞ 1.1.2000
  const MOON_SPEED = 360 / 27.321661; // –≥—Ä–∞–¥—É—Å—ñ–≤ –Ω–∞ –¥–æ–±—É
  const msPerDay = 1000 * 60 * 60 * 24;
  const daysSince = (date - EPOCH) / msPerDay;
  const lon = ((MOON_EPOCH_LON + MOON_SPEED * daysSince) % 360 + 360) % 360;
  return Math.floor(lon / 30); // 0=–û–≤–µ–Ω, 1=–¢–µ–ª–µ—Ü—å, ..., 11=–†–∏–±–∏
}

const ZODIAC_SIGNS = [
  { name: '–û–≤–µ–Ω',       emoji: '‚ôà', element: 'fire',  type: 'leaf',
    quality: 2, tip: '–ü–ª–æ–¥–æ–≤–∏–π –∑–Ω–∞–∫ üî• –í—ñ–¥–º—ñ–Ω–Ω–æ –¥–ª—è –ª–∏—Å—Ç—è–Ω–∏—Ö —Ç–∞ –ø–ª–æ–¥–æ–≤–∏—Ö –∫—É–ª—å—Ç—É—Ä. –ì–∞—Ä–Ω–∏–π –¥–µ–Ω—å –¥–ª—è –ø–æ—Å—ñ–≤—É –∑–µ—Ä–Ω–æ–≤–∏—Ö.' },
  { name: '–¢–µ–ª–µ—Ü—å',     emoji: '‚ôâ', element: 'earth', type: 'root',
    quality: 2, tip: '–ö–æ—Ä–µ–Ω–µ–≤–∏–π –∑–Ω–∞–∫ üåç –û–¥–∏–Ω –∑ –Ω–∞–π–∫—Ä–∞—â–∏—Ö –¥–ª—è –∫–æ—Ä–µ–Ω–µ–ø–ª–æ–¥—ñ–≤, —Ü–∏–±—É–ª—ñ, –∫–∞—Ä—Ç–æ–ø–ª—ñ. –î–æ–±—Ä–µ –¥–ª—è –ø–µ—Ä–µ—Å–∞–¥–∫–∏.' },
  { name: '–ë–ª–∏–∑–Ω—è—Ç–∞',   emoji: '‚ôä', element: 'air',   type: 'flower',
    quality: 0, tip: '–ö–≤—ñ—Ç–∫–æ–≤–∏–π –∑–Ω–∞–∫ üí® –°–ª–∞–±–∫–∏–π –¥–ª—è –±—ñ–ª—å—à–æ—Å—Ç—ñ –∫—É–ª—å—Ç—É—Ä. –ü—ñ–¥—ñ–π–¥–µ –¥–ª—è –∫–≤—ñ—Ç—ñ–≤, –∑—Ä—ñ–∑–∞–Ω–Ω—è —Ç—Ä–∞–≤.' },
  { name: '–†–∞–∫',        emoji: '‚ôã', element: 'water', type: 'leaf',
    quality: 2, tip: '–õ–∏—Å—Ç–æ–≤–∏–π –∑–Ω–∞–∫ üíß –ù–∞–π–∫—Ä–∞—â–∏–π –¥–ª—è –ª–∏—Å—Ç—è–Ω–∏—Ö –æ–≤–æ—á—ñ–≤, —Å–∞–ª–∞—Ç—ñ–≤, –∫–∞–ø—É—Å—Ç–∏. –î–æ–±—Ä–µ –¥–ª—è –ø–æ–ª–∏–≤—É.' },
  { name: '–õ–µ–≤',        emoji: '‚ôå', element: 'fire',  type: 'fruit',
    quality: 1, tip: '–ü–ª–æ–¥–æ–≤–∏–π –∑–Ω–∞–∫ üî• –î–æ–±—Ä–µ –¥–ª—è –ø–ª–æ–¥–æ–≤–∏—Ö –∫—É–ª—å—Ç—É—Ä ‚Äî —Ç–æ–º–∞—Ç—ñ–≤, –ø–µ—Ä—Ü—é. –ê–ª–µ —Å—É—Ö–æ, —Ç—Ä–µ–±–∞ –ø–æ–ª–∏–≤–∞—Ç–∏.' },
  { name: '–î—ñ–≤–∞',       emoji: '‚ôç', element: 'earth', type: 'root',
    quality: 1, tip: '–ö–æ—Ä–µ–Ω–µ–≤–∏–π –∑–Ω–∞–∫ üåç –î–æ–±—Ä–µ –¥–ª—è –∫–æ—Ä–µ–Ω–µ–ø–ª–æ–¥—ñ–≤. –•–æ—Ä–æ—à–∏–π —á–∞—Å –¥–ª—è –ø—Ä–æ–ø–æ–ª—é–≤–∞–Ω–Ω—è —Ç–∞ –∫–æ–º–ø–æ—Å—Ç—É.' },
  { name: '–¢–µ—Ä–µ–∑–∏',     emoji: '‚ôé', element: 'air',   type: 'flower',
    quality: 1, tip: '–ö–≤—ñ—Ç–∫–æ–≤–∏–π –∑–Ω–∞–∫ üí® –ù–∞–π–∫—Ä–∞—â–∏–π –¥–ª—è –∫–≤—ñ—Ç—ñ–≤. –î–æ–±—Ä–µ –¥–ª—è –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω–∏—Ö —Ä–æ—Å–ª–∏–Ω —Ç–∞ –∑—Ä—ñ–∑–∞–Ω–Ω—è.' },
  { name: '–°–∫–æ—Ä–ø—ñ–æ–Ω',  emoji: '‚ôè', element: 'water', type: 'leaf',
    quality: 2, tip: '–õ–∏—Å—Ç–æ–≤–∏–π –∑–Ω–∞–∫ üíß –î—É–∂–µ —Ä–æ–¥—é—á–∏–π! –û–¥–∏–Ω –∑ –Ω–∞–π–∫—Ä–∞—â–∏—Ö –¥–ª—è –ø–æ—Å—ñ–≤—É –±—É–¥—å-—è–∫–∏—Ö –∫—É–ª—å—Ç—É—Ä.' },
  { name: '–°—Ç—Ä—ñ–ª–µ—Ü—å',  emoji: '‚ôê', element: 'fire',  type: 'fruit',
    quality: 0, tip: '–ü–ª–æ–¥–æ–≤–∏–π –∑–Ω–∞–∫ üî• –°–ª–∞–±–∫–∏–π –¥–ª—è –ø–æ—Å—ñ–≤—É. –ù–∞–π–∫—Ä–∞—â–µ ‚Äî –∑–±–∏—Ä–∞—Ç–∏ –≤—Ä–æ–∂–∞–π —ñ –∑–∞–≥–æ—Ç–æ–≤–ª—è—Ç–∏ –Ω–∞—Å—ñ–Ω–Ω—è.' },
  { name: '–ö–æ–∑–µ—Ä—ñ–≥',   emoji: '‚ôë', element: 'earth', type: 'root',
    quality: 2, tip: '–ö–æ—Ä–µ–Ω–µ–≤–∏–π –∑–Ω–∞–∫ üåç –í—ñ–¥–º—ñ–Ω–Ω–∏–π –¥–ª—è –∫–æ—Ä–µ–Ω–µ–ø–ª–æ–¥—ñ–≤ —ñ —Ü–∏–±—É–ª—ñ. –•–æ—Ä–æ—à–∏–π –¥–ª—è –æ–±—Ä—ñ–∑–∫–∏ –¥–µ—Ä–µ–≤.' },
  { name: '–í–æ–¥–æ–ª—ñ–π',   emoji: '‚ôí', element: 'air',   type: 'flower',
    quality: 0, tip: '–ö–≤—ñ—Ç–∫–æ–≤–∏–π –∑–Ω–∞–∫ üí® –ù–∞–π—Å–ª–∞–±—à–∏–π –¥–ª—è –ø–æ—Å—ñ–≤—É. –ö—Ä–∞—â–µ –≤—ñ–¥–ø–æ—á–∏—Ç–∏ –∞–±–æ –∑–∞–π–º–∞—Ç–∏—Å—è “ë—Ä—É–Ω—Ç–æ–º.' },
  { name: '–†–∏–±–∏',      emoji: '‚ôì', element: 'water', type: 'leaf',
    quality: 2, tip: '–õ–∏—Å—Ç–æ–≤–∏–π –∑–Ω–∞–∫ üíß –î—É–∂–µ —Ä–æ–¥—é—á–∏–π. –ß—É–¥–æ–≤–æ –¥–ª—è –ª–∏—Å—Ç—è–Ω–∏—Ö, –∑–µ–ª–µ–Ω—ñ —Ç–∞ –∫–≤—ñ—Ç—ñ–≤. –û–±–µ—Ä–µ–∂–Ω–æ –∑ –≥–Ω–∏–ª–∏–∑–Ω–æ—é.' },
];

const ELEMENT_COLORS = {
  fire:  '#c0603a',
  earth: '#8a7a4a',
  air:   '#6a9ab0',
  water: '#4a7a8a',
};

// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
//  –ü–†–ê–í–ò–õ–ê –ü–û–°–Ü–í–ù–û–ì–û –ö–ê–õ–ï–ù–î–ê–†–Ø (–∑–∞ –º—ñ—Å—è—á–Ω–∏–º –∑–µ–º–ª–µ—Ä–æ–±—Å—Ç–≤–æ–º)
//
//  –í—ñ–∫ –º—ñ—Å—è—Ü—è (–¥–æ–±–∏ –≤—ñ–¥ –Ω–æ–≤–æ–º—ñ—Å—è—á—á—è) ‚Üí —Ç–∏–ø –¥–Ω—è:
//
//  0‚Äì1     : 3 (—É–Ω–∏–∫–∞—Ç–∏ ‚Äî –Ω–æ–≤–æ–º—ñ—Å—è—á—á—è, –Ω–µ—Å—Ç–∞–±—ñ–ª—å–Ω–∞ –µ–Ω–µ—Ä–≥—ñ—è)
//  1‚Äì7     : 2 (–Ω–∞–π–∫—Ä–∞—â—ñ ‚Äî –º–æ–ª–æ–¥–∏–π –∑—Ä–æ—Å—Ç–∞—é—á–∏–π –º—ñ—Å—è—Ü—å)
//            –∞–ª–µ –¥–µ–Ω—å –ø–µ—Ä–µ–¥ 1-–æ—é —á–≤–µ—Ä—Ç—é (6.5‚Äì7.5) = 1 (–ø–µ—Ä–µ—Ö—ñ–¥)
//  7‚Äì7.5   : 1 (—Å–ø—Ä–∏—è—Ç–ª–∏–≤–æ ‚Äî –ø–µ—Ä—à–∞ —á–≤–µ—Ä—Ç—å)
//  7.5‚Äì14  : 1 (–¥–æ–±—Ä–µ ‚Äî –∑—Ä–æ—Å—Ç–∞—é—á–∏–π –º—ñ—Å—è—Ü—å 2-–≥–∞ –ø–æ–ª–æ–≤–∏–Ω–∞)
//            –ø—ñ–∫ 12‚Äì14 = 2 (–Ω–∞–π–∫—Ä–∞—â–µ –ø–µ—Ä–µ–¥ –ø–æ–≤–Ω–æ–ª—É–Ω–Ω—è–º)
//  14‚Äì15   : 3 (—É–Ω–∏–∫–∞—Ç–∏ ‚Äî –ø–æ–≤–Ω–æ–ª—É–Ω–Ω—è, –Ω–∞–¥–º—ñ—Ä–Ω–∞ –≤–æ–ª–æ–≥–∞)
//  15‚Äì22   : 0 (–Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ ‚Äî —Å–ø–∞–¥–∞—é—á–∏–π –º—ñ—Å—è—Ü—å)
//            –∞–ª–µ 20‚Äì22 = 1 (–¥–æ–±—Ä–µ –¥–ª—è –∫–æ—Ä–µ–Ω–µ–ø–ª–æ–¥—ñ–≤)
//  22‚Äì23   : 1 (–æ—Å—Ç–∞–Ω–Ω—è —á–≤–µ—Ä—Ç—å ‚Äî –¥–æ–±—Ä–µ –¥–ª—è –∫–æ—Ä–µ–Ω–µ–ø–ª–æ–¥—ñ–≤)
//  23‚Äì28   : 0 (–Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ / –≤—ñ–¥–ø–æ—á–∏–Ω–æ–∫ —Å–∞–¥—É)
//  28‚Äì29.5 : 3 (—É–Ω–∏–∫–∞—Ç–∏ ‚Äî —Å—Ç–∞—Ä–∏–π –º—ñ—Å—è—Ü—å, –ø–µ—Ä–µ–¥ –Ω–æ–≤–∏–º)
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function getMoonDayType(date) {
  const age = getMoonAge(date);
  if (age < 1.0)  return 3;
  if (age < 3.5)  return 2;
  if (age < 7.0)  return 1;
  if (age < 7.5)  return 3;
  if (age < 12.0) return 1;
  if (age < 14.0) return 2;
  if (age < 15.5) return 3;
  if (age < 20.0) return 0;
  if (age < 22.5) return 1;
  if (age < 23.0) return 3;
  if (age < 28.0) return 0;
  return 3;
}

// –ö–æ–º–±—ñ–Ω–æ–≤–∞–Ω–∏–π —Ç–∏–ø: –º—ñ—Å—è—Ü—å + –∑–æ–¥—ñ–∞–∫
// –ó–æ–¥—ñ–∞–∫ quality: 0=—Å–ª–∞–±–∫–∏–π, 1=–¥–æ–±—Ä–µ, 2=–≤—ñ–¥–º—ñ–Ω–Ω–æ
// –ú—ñ—Å—è—Ü—å type: 0=–Ω–µ–π—Ç—Ä, 1=–¥–æ–±—Ä–µ, 2=–Ω–∞–π–∫—Ä–∞—â–µ, 3=—É–Ω–∏–∫–∞—Ç–∏
function getDayType(date) {
  const moonType = getMoonDayType(date);
  if (moonType === 3) return 3; // –º—ñ—Å—è—Ü—å –∫–∞–∂–µ —É–Ω–∏–∫–∞—Ç–∏ ‚Äî —É–Ω–∏–∫–∞—î–º–æ –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –∑–æ–¥—ñ–∞–∫—É
  const zodiac = ZODIAC_SIGNS[getMoonZodiacIndex(date)];
  // –ö–æ–º–±—ñ–Ω—É—î–º–æ: —Å–µ—Ä–µ–¥–Ω—î –∑–≤–∞–∂–µ–Ω–µ, –æ–∫—Ä—É–≥–ª—è—î–º–æ
  const combined = (moonType + zodiac.quality) / 2;
  if (combined >= 1.75) return 2;
  if (combined >= 0.75) return 1;
  if (combined < 0.3)   return 0;
  return 0;
}

// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
//  –î–ê–ù–Ü –ú–Ü–°–Ø–¶–Ü–í
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const MONTHS = [
  { name: '–°—ñ—á–µ–Ω—å',   subtitle: '–ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è —Å–µ–∑–æ–Ω—É ¬∑ –ö–∞—Ç–∞–ª–æ–≥–∏ –Ω–∞—Å—ñ–Ω–Ω—è', short: '–°—ñ—á',
    crops: [
      { icon: 'ü´ë', name: '–ü–µ—Ä–µ—Ü—å',       period: '15‚Äì31 —Å—ñ—á–Ω—è',  tip: '–°—ñ—è—Ç–∏ —Ä–æ–∑—Å–∞–¥—É –≤–¥–æ–º–∞, 24‚Äì26¬∞C –¥–ª—è –ø—Ä–æ—Ä–æ—Å—Ç–∞–Ω–Ω—è' },
      { icon: 'üçÖ', name: '–†–∞–Ω–Ω—ñ —Ç–æ–º–∞—Ç–∏', period: '20‚Äì31 —Å—ñ—á–Ω—è',  tip: '–¢—ñ–ª—å–∫–∏ –ø—Ä–∏ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ –¥–æ—Å–≤—ñ–¥—É —Ç–∞ –ø—ñ–¥—Å–≤—ñ—Ç–∫–∏' },
      { icon: 'üåø', name: '–°–µ–ª–µ—Ä–∞',       period: '10‚Äì25 —Å—ñ—á–Ω—è',  tip: '–ü–æ—Ç—Ä–µ–±—É—î 60‚Äì90 –¥–Ω—ñ–≤ –¥–æ –≤–∏—Å–∞–¥–∫–∏ —É “ë—Ä—É–Ω—Ç' },
      { icon: 'üìã', name: '–ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è',  period: '–≤–µ—Å—å –º—ñ—Å—è—Ü—å',  tip: '–Ü–¥–µ–∞–ª—å–Ω–∏–π —á–∞—Å –¥–ª—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –Ω–∞—Å—ñ–Ω–Ω—è —Ç–∞ —Å–∫–ª–∞–¥–∞–Ω–Ω—è –ø–ª–∞–Ω—É' },
    ]},
  { name: '–õ—é—Ç–∏–π',   subtitle: '–ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ –≤–µ—Å–Ω–∏ ¬∑ –†–æ–∑—Å–∞–¥–∞', short: '–õ—é—Ç',
    crops: [
      { icon: 'ü´ë', name: '–ü–µ—Ä–µ—Ü—å',         period: '1‚Äì15 –ª—é—Ç–æ–≥–æ',  tip: "–û–±–æ–≤'—è–∑–∫–æ–≤–æ –ø—ñ–¥—Å–≤—ñ—á—É–≤–∞–Ω–Ω—è 16 –≥–æ–¥/–¥–µ–Ω—å" },
      { icon: 'üçÜ', name: '–ë–∞–∫–ª–∞–∂–∞–Ω',       period: '5‚Äì20 –ª—é—Ç–æ–≥–æ',  tip: '–ü–æ–≤—ñ–ª—å–Ω–æ —Ä–æ—Å—Ç–µ, —Å—ñ—è—Ç–∏ —Ä–∞–Ω—ñ—à–µ –∑–∞ —Ç–æ–º–∞—Ç–∏' },
      { icon: 'ü•¨', name: '–ö–∞–ø—É—Å—Ç–∞ —Ä–∞–Ω–Ω—è',  period: '10‚Äì28 –ª—é—Ç–æ–≥–æ', tip: '–†–∞–Ω–Ω—è –∫–∞–ø—É—Å—Ç–∞, 60‚Äì70 –¥–Ω—ñ–≤ –¥–æ –≤–∏—Å–∞–¥–∫–∏' },
      { icon: 'üåø', name: '–ë–∞–∑–∏–ª—ñ–∫',        period: '15‚Äì28 –ª—é—Ç–æ–≥–æ', tip: '–ù—ñ–∂–Ω–∞ —Ä–æ—Å–ª–∏–Ω–∞, —Ç—Ä–∏–º–∞—Ç–∏ —É —Ç–µ–ø–ª—ñ' },
    ]},
  { name: '–ë–µ—Ä–µ–∑–µ–Ω—å', subtitle: '–ü–µ—Ä—à—ñ –ø–æ—Å—ñ–≤–∏ ¬∑ –ü—Ä–æ–±—É–¥–∂–µ–Ω–Ω—è', short: '–ë–µ—Ä',
    crops: [
      { icon: 'üçÖ', name: '–¢–æ–º–∞—Ç–∏',        period: '1‚Äì20 –±–µ—Ä–µ–∑–Ω—è',  tip: '–û–ø—Ç–∏–º–∞–ª—å–Ω–∏–π —á–∞—Å –¥–ª—è —Ä–æ–∑—Å–∞–¥–∏ ‚Äî 55‚Äì65 –¥–Ω—ñ–≤ –¥–æ –≤–∏—Å–∞–¥–∫–∏' },
      { icon: 'ü•í', name: '–û–≥—ñ—Ä–∫–∏',        period: '20‚Äì31 –±–µ—Ä–µ–∑–Ω—è', tip: '–°—ñ—è—Ç–∏ –Ω–µ —Ä–∞–Ω—ñ—à –Ω—ñ–∂ –∑–∞ 25‚Äì30 –¥–Ω—ñ–≤ –¥–æ –≤–∏—Å–∞–¥–∫–∏' },
      { icon: 'üßÖ', name: '–¶–∏–±—É–ª—è',        period: '1‚Äì15 –±–µ—Ä–µ–∑–Ω—è',  tip: '–í —Ç–µ–ø–ª–∏—Ü—ñ –∞–±–æ –ø—ñ–¥–≤—ñ–∫–æ–Ω–Ω—ñ' },
      { icon: 'ü•ï', name: '–ú–æ—Ä–∫–≤–∞',        period: '15‚Äì31 –±–µ—Ä–µ–∑–Ω—è', tip: '–ü—ñ–¥ –ø–ª—ñ–≤–∫—É –≤ –∑–∞—Ö–∏—â–µ–Ω–∏–π “ë—Ä—É–Ω—Ç' },
    ]},
  { name: '–ö–≤—ñ—Ç–µ–Ω—å', subtitle: '–í–µ—Å–Ω—è–Ω—ñ —Ä–æ–±–æ—Ç–∏ ¬∑ –í—ñ–¥–∫—Ä–∏—Ç–∏–π “ë—Ä—É–Ω—Ç', short: '–ö–≤—ñ—Ç',
    crops: [
      { icon: 'ü•î', name: '–ö–∞—Ä—Ç–æ–ø–ª—è', period: '15‚Äì30 –∫–≤—ñ—Ç–Ω—è', tip: '–ö–æ–ª–∏ “ë—Ä—É–Ω—Ç –ø—Ä–æ–≥—Ä—ñ–≤—Å—è –¥–æ +8¬∞C' },
      { icon: 'ü•ó', name: '–°–∞–ª–∞—Ç',    period: '1‚Äì20 –∫–≤—ñ—Ç–Ω—è',  tip: '–ü—Ä—è–º–æ —É “ë—Ä—É–Ω—Ç –∞–±–æ —Ç–µ–ø–ª–∏—Ü—é' },
      { icon: 'üå±', name: '–†–µ–¥–∏—Å',    period: '1‚Äì30 –∫–≤—ñ—Ç–Ω—è',  tip: '–®–≤–∏–¥–∫–æ —Ä–æ—Å—Ç–µ, 20‚Äì25 –¥–Ω—ñ–≤ –¥–æ –≤—Ä–æ–∂–∞—é' },
      { icon: 'üßÑ', name: '–ß–∞—Å–Ω–∏–∫',   period: '5‚Äì20 –∫–≤—ñ—Ç–Ω—è',  tip: '–Ø—Ä–∏–π —á–∞—Å–Ω–∏–∫ —Å–∞–¥–∏—Ç–∏ —É –ø–µ—Ä—à—ñ–π –ø–æ–ª–æ–≤–∏–Ω—ñ' },
    ]},
  { name: '–¢—Ä–∞–≤–µ–Ω—å', subtitle: '–ê–∫—Ç–∏–≤–Ω–∏–π —Å–µ–∑–æ–Ω ¬∑ –í–∏—Å–∞–¥–∂—É–≤–∞–Ω–Ω—è', short: '–¢—Ä–∞',
    crops: [
      { icon: 'üçÖ', name: '–¢–æ–º–∞—Ç–∏ (–≤–∏—Å–∞–¥–∫–∞)', period: '10‚Äì31 —Ç—Ä–∞–≤–Ω—è', tip: '–í–∏—Å–∞–¥–∂—É–≤–∞—Ç–∏ –ø—ñ—Å–ª—è 15 —Ç—Ä–∞–≤–Ω—è, –∫–æ–ª–∏ –º–∏–Ω–∞—î –∑–∞–≥—Ä–æ–∑–∞ –∑–∞–º–æ—Ä–æ–∑–∫—ñ–≤' },
      { icon: 'ü•í', name: '–û–≥—ñ—Ä–∫–∏ (–≤–∏—Å–∞–¥–∫–∞)', period: '15‚Äì31 —Ç—Ä–∞–≤–Ω—è', tip: '“ê—Ä—É–Ω—Ç –Ω–µ —Ö–æ–ª–æ–¥–Ω—ñ—à–µ +15¬∞C' },
      { icon: 'üåΩ', name: '–ö—É–∫—É—Ä—É–¥–∑–∞',        period: '1‚Äì15 —Ç—Ä–∞–≤–Ω—è',  tip: '–ü—Ä—è–º–∏–π –ø–æ—Å—ñ–≤ —É –≤—ñ–¥–∫—Ä–∏—Ç–∏–π “ë—Ä—É–Ω—Ç' },
      { icon: 'ü´ò', name: '–ö–≤–∞—Å–æ–ª—è',          period: '15‚Äì31 —Ç—Ä–∞–≤–Ω—è', tip: '–ü—ñ—Å–ª—è –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –∑–∞–º–æ—Ä–æ–∑–∫—ñ–≤, —É —Ç–µ–ø–ª–∏–π “ë—Ä—É–Ω—Ç' },
    ]},
  { name: '–ß–µ—Ä–≤–µ–Ω—å', subtitle: '–î–æ–≥–ª—è–¥ ¬∑ –ü–µ—Ä—à—ñ –ø–ª–æ–¥–∏', short: '–ß–µ—Ä',
    crops: [
      { icon: 'ü•í', name: '–û–≥—ñ—Ä–∫–∏ 2-–π —Å—Ç—Ä–æ–∫',  period: '1‚Äì10 —á–µ—Ä–≤–Ω—è',  tip: '–î–ª—è –æ—Å—ñ–Ω–Ω—å–æ–≥–æ –≤—Ä–æ–∂–∞—é' },
      { icon: 'ü•¨', name: '–ö–∞–ø—É—Å—Ç–∞ –ø—ñ–∑–Ω—è',      period: '1‚Äì15 —á–µ—Ä–≤–Ω—è',  tip: '–í–∏—Å–∞–¥–∫–∞ —Ä–æ–∑—Å–∞–¥–∏ —É –≤—ñ–¥–∫—Ä–∏—Ç–∏–π “ë—Ä—É–Ω—Ç' },
      { icon: 'üåø', name: '–ö—Ä—ñ–ø, –ø–µ—Ç—Ä—É—à–∫–∞',     period: '–≤–µ—Å—å –º—ñ—Å—è—Ü—å',  tip: '–ú–æ–∂–Ω–∞ —Å—ñ—è—Ç–∏ –∫–æ–∂–Ω—ñ 2‚Äì3 —Ç–∏–∂–Ω—ñ' },
      { icon: 'üå∏', name: '–ö–≤—ñ—Ç–∏ –æ–¥–Ω–æ—Ä—ñ—á–Ω—ñ',    period: '1‚Äì20 —á–µ—Ä–≤–Ω—è',  tip: '–ß–æ—Ä–Ω–æ–±—Ä–∏–≤—Ü—ñ, –∞–π—Å—Ç—Ä–∏, —Ñ–ª–æ–∫—Å–∏' },
    ]},
  { name: '–õ–∏–ø–µ–Ω—å', subtitle: '–ó–±—ñ—Ä –≤—Ä–æ–∂–∞—é ¬∑ –ü–æ–ª–∏–≤', short: '–õ–∏–ø',
    crops: [
      { icon: 'ü•ï', name: '–ú–æ—Ä–∫–≤–∞ (–æ—Å—ñ–Ω–Ω—è)', period: '1‚Äì20 –ª–∏–ø–Ω—è',  tip: '–î–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –≤–∑–∏–º–∫—É' },
      { icon: 'ü•¨', name: '–†–µ–¥—å–∫–∞ –∑–∏–º–æ–≤–∞',   period: '15‚Äì31 –ª–∏–ø–Ω—è', tip: '–ß–æ—Ä–Ω–∞ —Ä–µ–¥—å–∫–∞, –¥–∞–π–∫–æ–Ω' },
      { icon: 'üåø', name: '–ó–µ–ª–µ–Ω—å',          period: '–≤–µ—Å—å –º—ñ—Å—è—Ü—å', tip: '–®–ø–∏–Ω–∞—Ç, –∫—Ä—ñ–ø, —Ä—É–∫–∫–æ–ª–∞ ‚Äî —Å—ñ—è—Ç–∏ –ø—ñ–¥ –≤–µ—á—ñ—Ä' },
      { icon: 'üßÖ', name: '–¶–∏–±—É–ª—è –æ–∑–∏–º–∞',    period: '25‚Äì31 –ª–∏–ø–Ω—è', tip: '–ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥—ñ–ª—è–Ω–∫–∏ –¥–ª—è –æ–∑–∏–º–æ—ó —Ü–∏–±—É–ª—ñ' },
    ]},
  { name: '–°–µ—Ä–ø–µ–Ω—å', subtitle: '–û—Å—ñ–Ω–Ω—ñ–π –ø–æ—Å—ñ–≤ ¬∑ –ó–∞–≥–æ—Ç–æ–≤–∫–∏', short: '–°–µ—Ä',
    crops: [
      { icon: 'ü•¨', name: '–®–ø–∏–Ω–∞—Ç, —Ä—É–∫–∫–æ–ª–∞',     period: '1‚Äì20 —Å–µ—Ä–ø–Ω—è',  tip: '–û—Å—ñ–Ω–Ω—ñ–π —É—Ä–æ–∂–∞–π –∑–µ–ª–µ–Ω—ñ' },
      { icon: 'üßÑ', name: '–ß–∞—Å–Ω–∏–∫ (–æ–∑–∏–º–∏–π)',      period: '20‚Äì31 —Å–µ—Ä–ø–Ω—è', tip: '–ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥—ñ–ª—è–Ω–∫–∏, –ø–æ—Å–∞–¥–∫–∞ —É –≤–µ—Ä–µ—Å–Ω—ñ' },
      { icon: 'üå∑', name: '–¶–∏–±—É–ª–∏–Ω–∏ —Ç—é–ª—å–ø–∞–Ω—ñ–≤',  period: '25‚Äì31 —Å–µ—Ä–ø–Ω—è', tip: '–ö—É–ø—É–≤–∞—Ç–∏ —ñ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –¥–æ –ø–æ—Å–∞–¥–∫–∏' },
      { icon: 'üåø', name: '–°–∏–¥–µ—Ä–∞—Ç–∏',            period: '–≤–µ—Å—å –º—ñ—Å—è—Ü—å',  tip: '–ì—ñ—Ä—á–∏—Ü—è, —Ñ–∞—Ü–µ–ª—ñ—è –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è “ë—Ä—É–Ω—Ç—É' },
    ]},
  { name: '–í–µ—Ä–µ—Å–µ–Ω—å', subtitle: '–ü–æ—Å—ñ–≤ –æ–∑–∏–º–∏—Ö ¬∑ –ó–±—ñ—Ä', short: '–í–µ—Ä',
    crops: [
      { icon: 'üßÑ', name: '–ß–∞—Å–Ω–∏–∫ (–æ–∑–∏–º–∏–π)',    period: '15‚Äì30 –≤–µ—Ä–µ—Å–Ω—è', tip: '–°–∞–¥–∏—Ç–∏ –∑–∞ 4‚Äì6 —Ç–∏–∂–Ω—ñ–≤ –¥–æ –∑–∞–º–æ—Ä–æ–∑–∫—ñ–≤' },
      { icon: 'üå∑', name: '–¶–∏–±—É–ª–∏–Ω–∏ –∫–≤—ñ—Ç–æ–∫',    period: '1‚Äì20 –≤–µ—Ä–µ—Å–Ω—è',  tip: '–¢—é–ª—å–ø–∞–Ω–∏, –Ω–∞—Ä—Ü–∏—Å–∏, –∫—Ä–æ–∫—É—Å–∏' },
      { icon: 'üåø', name: '–°–∏–¥–µ—Ä–∞—Ç–∏',          period: '1‚Äì15 –≤–µ—Ä–µ—Å–Ω—è',  tip: '–ñ–∏—Ç–æ, –æ–∑–∏–º–∞ –ø—à–µ–Ω–∏—Ü—è –¥–ª—è –∑–∞—Ö–∏—Å—Ç—É “ë—Ä—É–Ω—Ç—É' },
      { icon: 'ü•¨', name: '–®–ø–∏–Ω–∞—Ç',            period: '1‚Äì10 –≤–µ—Ä–µ—Å–Ω—è',  tip: '–í—Å—Ç–∏–≥–Ω–µ –∑—ñ–π—Ç–∏ –¥–æ —Ö–æ–ª–æ–¥—ñ–≤' },
    ]},
  { name: '–ñ–æ–≤—Ç–µ–Ω—å', subtitle: '–ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ –∑–∏–º–∏ ¬∑ –¶–∏–±—É–ª–∏–Ω–∏', short: '–ñ–æ–≤',
    crops: [
      { icon: 'üßÖ', name: '–¶–∏–±—É–ª—è (–ø—ñ–¥–∑–∏–º–Ω—è)', period: '1‚Äì20 –∂–æ–≤—Ç–Ω—è',  tip: '–î—Ä—ñ–±–Ω–∞ —Ü–∏–±—É–ª—è-—Å—ñ–≤–æ–∫ –¥–ª—è —Ä–∞–Ω–Ω—å–æ–≥–æ –≤—Ä–æ–∂–∞—é' },
      { icon: 'üå∑', name: '–ü–æ—Å–∞–¥–∫–∞ —Ü–∏–±—É–ª–∏–Ω',   period: '1‚Äì15 –∂–æ–≤—Ç–Ω—è',  tip: '–¢—é–ª—å–ø–∞–Ω–∏, –Ω–∞—Ä—Ü–∏—Å–∏, –≥—ñ–∞—Ü–∏–Ω—Ç–∏' },
      { icon: 'ü•ï', name: '–ú–æ—Ä–∫–≤–∞ (–ø—ñ–¥–∑–∏–º–Ω—è)', period: '20‚Äì31 –∂–æ–≤—Ç–Ω—è', tip: '–°—É—Ö–µ –Ω–∞—Å—ñ–Ω–Ω—è –≤ –ø—Ä–æ–º–µ—Ä–∑–ª–∏–π “ë—Ä—É–Ω—Ç' },
      { icon: 'üå≥', name: '–î–µ—Ä–µ–≤–∞ —Ç–∞ –∫—É—â—ñ',    period: '–≤–µ—Å—å –º—ñ—Å—è—Ü—å',  tip: '–ü–æ—Å–∞–¥–∫–∞ –ø–ª–æ–¥–æ–≤–∏—Ö —Å–∞–¥–∂–∞–Ω—Ü—ñ–≤' },
    ]},
  { name: '–õ–∏—Å—Ç–æ–ø–∞–¥', subtitle: '–†–µ–≤—ñ–∑—ñ—è –∑–∞–ø–∞—Å—ñ–≤ ¬∑ –ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è', short: '–õ–∏—Å',
    crops: [
      { icon: 'üìã', name: '–ê–Ω–∞–ª—ñ–∑ —Å–µ–∑–æ–Ω—É',    period: '–≤–µ—Å—å –º—ñ—Å—è—Ü—å',     tip: '–ó–∞–ø–∏—Å–∞—Ç–∏ —â–æ –≤–¥–∞–ª–æ—Å—è, —â–æ —Ç—Ä–µ–±–∞ –∑–º—ñ–Ω–∏—Ç–∏' },
      { icon: 'üå∞', name: '–°—Ç—Ä–∞—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è',    period: '–∑ 15 –ª–∏—Å—Ç–æ–ø–∞–¥–∞',  tip: '–ù–∞—Å—ñ–Ω–Ω—è –¥–µ—Ä–µ–≤ –ø–æ—Ç—Ä–µ–±—É—î —Ö–æ–ª–æ–¥–Ω–æ—ó –æ–±—Ä–æ–±–∫–∏' },
      { icon: 'üåø', name: '–í–∏–≥–æ–Ω–∫–∞ —Ü–∏–±—É–ª—ñ',   period: '1‚Äì30 –ª–∏—Å—Ç–æ–ø–∞–¥–∞',  tip: '–î–ª—è –∑–µ–ª–µ–Ω—ñ —É –≥—Ä—É–¥–Ω—ñ-—Å—ñ—á–Ω—ñ' },
      { icon: 'ü™¥', name: '–ö—ñ–º–Ω–∞—Ç–Ω—ñ —Ä–æ—Å–ª–∏–Ω–∏', period: '–≤–µ—Å—å –º—ñ—Å—è—Ü—å',     tip: '–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø–æ–ª–∏–≤ —Ç–∞ –ø—ñ–¥—Å–≤—ñ—Ç–∫—É' },
    ]},
  { name: '–ì—Ä—É–¥–µ–Ω—å', subtitle: '–ó–∏–º–æ–≤–∏–π —Å–ø–æ–∫—ñ–π ¬∑ –ê–Ω–∞–ª—ñ–∑ —Å–µ–∑–æ–Ω—É', short: '–ì—Ä—É',
    crops: [
      { icon: 'ü´ë', name: '–ü–µ—Ä–µ—Ü—å (—Ä–∞–Ω–Ω—è)',     period: '20‚Äì31 –≥—Ä—É–¥–Ω—è', tip: '–ù–∞–π—Ä–∞–Ω–Ω—ñ—à–∏–π —Å—Ç—Ä–æ–∫ –¥–ª—è —Ç–∏—Ö, —Ö—Ç–æ –ø–æ—Å–ø—ñ—à–∞—î' },
      { icon: 'üìö', name: '–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –Ω–∞—Å—ñ–Ω–Ω—è', period: '–≤–µ—Å—å –º—ñ—Å—è—Ü—å',  tip: '–ö—Ä–∞—â–∏–π —á–∞—Å –¥–ª—è –≤–∏–±–æ—Ä—É —Ç–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö —Å–æ—Ä—Ç—ñ–≤' },
      { icon: 'üåø', name: '–í–∏–≥–æ–Ω–∫–∞ –∑–µ–ª–µ–Ω—ñ',     period: '–≤–µ—Å—å –º—ñ—Å—è—Ü—å',  tip: '–¶–∏–±—É–ª—è, –ø–µ—Ç—Ä—É—à–∫–∞ —É –≥–æ—Ä—â–∏–∫–∞—Ö –Ω–∞ –ø—ñ–¥–≤—ñ–∫–æ–Ω–Ω—ñ' },
      { icon: 'üéÅ', name: '–ü–æ–¥–∞—Ä—É–Ω–∫–æ–≤—ñ –Ω–∞–±–æ—Ä–∏', period: '–¥–æ 25 –≥—Ä—É–¥–Ω—è', tip: '–ù–∞—Å—ñ–Ω–Ω—è —è–∫ –ø–æ–¥–∞—Ä—É–Ω–æ–∫ –¥–ª—è —Å–∞–¥—ñ–≤–Ω–∏–∫—ñ–≤' },
    ]},
];

const DAY_LABELS   = { 0: '',          1: '–¥–æ–±—Ä–µ',    2: '–≤—ñ–¥–º—ñ–Ω–Ω–æ', 3: '–Ω–µ —Å–∞–¥–∏—Ç–∏' };
const DAY_CLASSES  = { 0: '',          1: 'good',     2: 'best',     3: 'avoid' };
const MOON_DESC    = {
  'üåë': '–ù–æ–≤–∏–π –º—ñ—Å—è—Ü—å',      'üåí': '–ú–æ–ª–æ–¥–∏–π –º—ñ—Å—è—Ü—å',   'üåì': '–ü–µ—Ä—à–∞ —á–≤–µ—Ä—Ç—å',
  'üåî': '–ü—Ä–∏–±—É–≤–∞—é—á–∏–π –º—ñ—Å—è—Ü—å','üåï': '–ü–æ–≤–Ω–∏–π –º—ñ—Å—è—Ü—å',     'üåñ': '–°–ø–∞–¥–∞—é—á–∏–π –º—ñ—Å—è—Ü—å',
  'üåó': '–û—Å—Ç–∞–Ω–Ω—è —á–≤–µ—Ä—Ç—å',    'üåò': '–°—Ç–∞—Ä–∏–π –º—ñ—Å—è—Ü—å'
};
const TYPE_DESC = {
  0: '–ù–µ–π—Ç—Ä–∞–ª—å–Ω–∏–π –¥–µ–Ω—å. –ú–æ–∂–Ω–∞ –ø—Ä–æ–≤–æ–¥–∏—Ç–∏ –ø–æ—Ç–æ—á–Ω—ñ —Ä–æ–±–æ—Ç–∏ —É —Å–∞–¥—É.',
  1: '–°–ø—Ä–∏—è—Ç–ª–∏–≤–∏–π –¥–µ–Ω—å –¥–ª—è –ø–æ—Å—ñ–≤—É —Ç–∞ –ø–µ—Ä–µ—Å–∞–¥–∫–∏.',
  2: '–ù–∞–π–∫—Ä–∞—â–∏–π –¥–µ–Ω—å ‚Äî —Å–∞–¥—ñ—Ç—å, —Å—ñ–π—Ç–µ, –ø–µ—Ä–µ—Å–∞–¥–∂—É–π—Ç–µ! –ú—ñ—Å—è—Ü—å —Å–ø—Ä–∏—è—î —Ä–æ—Å—Ç—É.',
  3: '–ù–µ–±–∞–∂–∞–Ω–æ —Å–∞–¥–∏—Ç–∏. –ö—Ä–∞—â–µ –∑–∞–π–Ω—è—Ç–∏—Å—è –ø—Ä–æ–ø–æ–ª—é–≤–∞–Ω–Ω—è–º, –ø–æ–ª–∏–≤–æ–º –∞–±–æ –≤—ñ–¥–ø–æ—á–∏–Ω–∫–æ–º.'
};

// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
//  –†–ï–ù–î–ï–†
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const YEAR = 2026;
const TODAY = new Date();
let currentMonth = TODAY.getMonth();

function getDaysInMonth(y, m) { return new Date(y, m + 1, 0).getDate(); }
function getFirstDay(y, m) {
  const d = new Date(y, m, 1).getDay();
  return d === 0 ? 6 : d - 1; // –ü–Ω=0
}

function renderCalendar(month) {
  const daysInMonth = getDaysInMonth(YEAR, month);
  const firstDay    = getFirstDay(YEAR, month);
  const grid = document.getElementById('daysGrid');
  grid.innerHTML = '';

  for (let i = 0; i < firstDay; i++) {
    const e = document.createElement('div');
    e.className = 'day-cell empty';
    grid.appendChild(e);
  }

  for (let d = 1; d <= daysInMonth; d++) {
    const date = new Date(YEAR, month, d, 12, 0, 0); // –ø–æ–ª—É–¥–µ–Ω—å UTC+2 ‚âà 10:00 UTC
    const moon  = getMoonEmoji(date);
    const type  = getDayType(date);
    const age   = Math.round(getMoonAge(date));
    const zodIdx = getMoonZodiacIndex(date);
    const zodiac = ZODIAC_SIGNS[zodIdx];

    const cell = document.createElement('div');
    cell.className = 'day-cell' + (DAY_CLASSES[type] ? ' ' + DAY_CLASSES[type] : '');
    const isToday = (TODAY.getFullYear() === YEAR && TODAY.getMonth() === month && TODAY.getDate() === d);
    if (isToday) cell.classList.add('today');

    // –ú–∞–ª–µ–Ω—å–∫–∞ –∫—Ä–∞–ø–∫–∞ –µ–ª–µ–º–µ–Ω—Ç—É –∑–æ–¥—ñ–∞–∫—É
    const elemColor = ELEMENT_COLORS[zodiac.element];
    cell.innerHTML = `
      <span class="day-num">${d}</span>
      <span class="day-moon">${moon}</span>
      <span class="day-zodiac" style="color:${elemColor}" title="${zodiac.name}">${zodiac.emoji}</span>
      ${type ? `<span class="day-label">${DAY_LABELS[type]}</span>` : ''}
    `;

    cell.addEventListener('mouseenter', e => showTooltip(e, d, type, moon, month, age, zodiac));
    cell.addEventListener('mouseleave', hideTooltip);
    cell.addEventListener('mousemove',  moveTooltip);
    grid.appendChild(cell);
  }

  document.getElementById('monthTitle').textContent    = MONTHS[month].name;
  document.getElementById('monthSubtitle').textContent = MONTHS[month].subtitle;
  document.getElementById('cropsTitle').textContent    = `–©–æ —Å–∞–¥–∏—Ç–∏ —É ${MONTHS[month].name.toLowerCase()}`;

  const cropsGrid = document.getElementById('cropsGrid');
  cropsGrid.innerHTML = '';
  MONTHS[month].crops.forEach(c => {
    const card = document.createElement('div');
    card.className = 'crop-card';
    card.innerHTML = `<div class="crop-icon">${c.icon}</div><div class="crop-name">${c.name}</div><div class="crop-period">üìÖ ${c.period}</div><div class="crop-tip">${c.tip}</div>`;
    cropsGrid.appendChild(card);
  });
}

function showTooltip(e, day, type, moon, month, age, zodiac) {
  const tt = document.getElementById('tooltip');
  const elemName = { fire: '–í–æ–≥–æ–Ω—å üî•', earth: '–ó–µ–º–ª—è üåç', air: '–ü–æ–≤—ñ—Ç—Ä—è üí®', water: '–í–æ–¥–∞ üíß' };
  document.getElementById('ttTitle').textContent = `${day} ${MONTHS[month].name} ‚Äî ${MOON_DESC[moon] || ''}`;
  document.getElementById('ttMoon').textContent  = `–í—ñ–∫ –º—ñ—Å—è—Ü—è: ${age}-–π –¥–µ–Ω—å`;
  document.getElementById('ttZodiac').innerHTML  = `<span style="color:${ELEMENT_COLORS[zodiac.element]}">${zodiac.emoji} ${zodiac.name}</span> ¬∑ ${elemName[zodiac.element]}`;
  document.getElementById('ttZodiacTip').textContent = zodiac.tip;
  document.getElementById('ttInfo').textContent  = TYPE_DESC[type];
  tt.style.display = 'block';
  moveTooltip(e);
}
function moveTooltip(e) {
  const tt = document.getElementById('tooltip');
  let x = e.clientX + 16, y = e.clientY - 40;
  if (x + 210 > window.innerWidth) x = e.clientX - 220;
  if (y < 0) y = e.clientY + 20;
  tt.style.left = x + 'px';
  tt.style.top  = y + 'px';
}
function hideTooltip() {
  document.getElementById('tooltip').style.display = 'none';
}

// –ù–∞–≤—ñ–≥–∞—Ü—ñ—è –º—ñ—Å—è—Ü—ñ–≤
const nav = document.getElementById('monthNav');
MONTHS.forEach((m, i) => {
  const btn = document.createElement('button');
  btn.className = 'month-btn' + (i === currentMonth ? ' active' : '');
  btn.textContent = m.short;
  btn.addEventListener('click', () => {
    document.querySelectorAll('.month-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    currentMonth = i;
    renderCalendar(i);
    document.querySelector('.calendar-container').scrollIntoView({ behavior: 'smooth' });
  });
  nav.appendChild(btn);
});

renderCalendar(currentMonth);
</script>
</body>
</html>
